package systemcontract

import (
	"github.com/ethereum/go-ethereum/common"
	"github.com/ethereum/go-ethereum/core"
	"github.com/ethereum/go-ethereum/core/state"
	"github.com/ethereum/go-ethereum/core/types"
	"github.com/ethereum/go-ethereum/log"
	"github.com/ethereum/go-ethereum/params"
	"math/big"
)

var (
	validatorV1Admin        = common.HexToAddress("0xce930537a2148b8dc43899ff2e9bcbee0e801c54")
	validatorV1AdminTestnet = common.HexToAddress("0xce930537a2148b8dc43899ff2e9bcbee0e801c54")
)

const (
	validatorV1Code = "0x608060405260043610620001f35760003560e01c80639001eed8116200010b578063c967f90f11620000a1578063f3b1cc67116200006c578063f3b1cc671462000501578063f40f0f52146200051a578063f851a440146200054b578063fc6c1f02146200057257600080fd5b8063c967f90f1462000492578063d6c0edad14620004bd578063d86768e914620004c7578063ec0cb336146200028957600080fd5b8063afeea11511620000e2578063afeea1151462000425578063bb8b65af146200043d578063bcecf81b1462000455578063c885bc58146200047a57600080fd5b80639001eed814620003d65780639cc02c3014620003f65780639de70258146200040d57600080fd5b80633bd07e34116200018d5780636846992a11620001585780636846992a146200035c57806371a1bb75146200038157806371df767814620003995780638f28397014620003b157600080fd5b80633bd07e3414620002c757806344f9990014620002df578063462d0b2e146200031057806360544bf1146200033557600080fd5b8063158ef93e11620001ce578063158ef93e146200025c57806315de360e14620002895780631c0ffaa214620002a25780632e4f67e4146200028957600080fd5b806303fab4f614620001f857806306661abd146200022a578063136ec0b31462000242575b600080fd5b3480156200020557600080fd5b506200021768056bc75e2d6310000081565b6040519081526020015b60405180910390f35b3480156200023757600080fd5b506200021760015481565b3480156200024f57600080fd5b506200025a62000597565b005b3480156200026957600080fd5b50600054620002789060ff1681565b604051901515815260200162000221565b3480156200029657600080fd5b50620002176201518081565b348015620002af57600080fd5b506200025a620002c136600462002d4e565b6200076f565b348015620002d457600080fd5b506200021760025481565b348015620002ec57600080fd5b50620002f761c00381565b6040516001600160a01b03909116815260200162000221565b3480156200031d57600080fd5b506200025a6200032f36600462002dbf565b620008a4565b3480156200034257600080fd5b506200034d62000baa565b60405162000221919062002ef0565b3480156200036957600080fd5b506200025a6200037b36600462002e0c565b62000c0e565b3480156200038e57600080fd5b50620002f761c00281565b348015620003a657600080fd5b506200025a62001046565b348015620003be57600080fd5b506200025a620003d036600462002d0e565b62001149565b348015620003e357600080fd5b506200021769010f0cf064dd5920000081565b3480156200040357600080fd5b5060065462000217565b3480156200041a57600080fd5b506200034d6200125e565b3480156200043257600080fd5b506200034d620012c0565b3480156200044a57600080fd5b506200025a6200148c565b3480156200046257600080fd5b50620002f76200047436600462002e78565b6200165b565b3480156200048757600080fd5b506200025a62001686565b3480156200049f57600080fd5b50620004a9600f81565b60405161ffff909116815260200162000221565b6200025a620016fe565b348015620004d457600080fd5b50620002f7620004e636600462002d0e565b6007602052600090815260409020546001600160a01b031681565b3480156200050e57600080fd5b50620002176206270081565b3480156200052757600080fd5b50620002176200053936600462002d0e565b60096020526000908152604090205481565b3480156200055857600080fd5b50600054620002f79061010090046001600160a01b031681565b3480156200057f57600080fd5b50620002f76200059136600462002d90565b62001c45565b6000339050806001600160a01b031660076000836001600160a01b0316633a5381b56040518163ffffffff1660e01b815260040160206040518083038186803b158015620005e457600080fd5b505afa158015620005f9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200061f919062002d2e565b6001600160a01b03908116825260208201929092526040016000205416146200068f5760405162461bcd60e51b815260206004820152601860248201527f566f746520706f6f6c206e6f742072656769737465726564000000000000000060448201526064015b60405180910390fd5b336001816001600160a01b031663c19d93fb6040518163ffffffff1660e01b815260040160206040518083038186803b158015620006cc57600080fd5b505afa158015620006e1573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000707919062002e55565b60038111156200071b576200071b620030c3565b146200075c5760405162461bcd60e51b815260206004820152600f60248201526e496e636f727265637420737461746560881b604482015260640162000686565b600b6200076a818362001d98565b505050565b60005461010090046001600160a01b03163314620007bd5760405162461bcd60e51b815260206004820152600a60248201526927b7363c9030b236b4b760b11b604482015260640162000686565b6001600160a01b0382811660009081526007602052604090205416620008305760405162461bcd60e51b815260206004820152602160248201527f436f72726573706f6e64696e6720766f746520706f6f6c206e6f7420666f756e6044820152601960fa1b606482015260840162000686565b6001600160a01b0382811660009081526007602052604090819020549051638ec7a23d60e01b81528315156004820152911690638ec7a23d90602401600060405180830381600087803b1580156200088757600080fd5b505af11580156200089c573d6000803e3d6000fd5b505050505050565b60005460ff1615620008f95760405162461bcd60e51b815260206004820152601360248201527f416c726561647920696e697469616c697a656400000000000000000000000000604482015260640162000686565b60008251116200094c5760405162461bcd60e51b815260206004820152600e60248201527f496e76616c696420706172616d73000000000000000000000000000000000000604482015260640162000686565b6001600160a01b038116620009a45760405162461bcd60e51b815260206004820152601560248201527f496e76616c69642061646d696e20616464726573730000000000000000000000604482015260640162000686565b6000805460017fffffffffffffffffffffff0000000000000000000000000000000000000000009091166101006001600160a01b038516021781178255600f905560028190555b82518160ff1610156200076a576000838260ff168151811062000a125762000a12620030d9565b6020908102919091018101516001600160a01b0380821660009081526007909352604090922054909250161562000a8c5760405162461bcd60e51b815260206004820152601960248201527f56616c696461746f727320616c72656164792065786973747300000000000000604482015260640162000686565b60008162000a9e612710600a620023ad565b600160405162000aae9062002b96565b62000abc9392919062002eac565b604051809103906000f08015801562000ad9573d6000803e3d6000fd5b5060068054600181019091557ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d3f0180546001600160a01b038086166001600160a01b031992831681179093556000928352600760205260408084208054928616929093168217909255815163204a7f0760e21b8152915193945092638129fc1c9260048084019391929182900301818387803b15801562000b7957600080fd5b505af115801562000b8e573d6000803e3d6000fd5b505050505050808062000ba1906200305d565b915050620009eb565b6060600480548060200260200160405190810160405280929190818152602001828054801562000c0457602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831162000be5575b5050505050905090565b33411462000c5f5760405162461bcd60e51b815260206004820152600a60248201527f4d696e6572206f6e6c7900000000000000000000000000000000000000000000604482015260640162000686565b8062000c6c814362003080565b1562000cbb5760405162461bcd60e51b815260206004820152601060248201527f426c6f636b2065706f6368206f6e6c7900000000000000000000000000000000604482015260640162000686565b436000908152600a60209081526040808320600180855292529091205460ff161562000d1d5760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e481bdc195c985d195960821b604482015260640162000686565b60005460ff1662000d605760405162461bcd60e51b815260206004820152600c60248201526b139bdd081a5b9a5d081e595d60a21b604482015260640162000686565b436000908152600a60209081526040808320600180855292528220805460ff191690911790555b60035481101562000dfa576000600560006003848154811062000dae5762000dae620030d9565b6000918252602080832091909101546001600160a01b031683528201929092526040019020805460ff191660ff929092169190911790558062000df1816200303f565b91505062000d87565b50835162000e1090600390602087019062002ba4565b5060005b60035481101562000e87576001600560006003848154811062000e3b5762000e3b620030d9565b6000918252602080832091909101546001600160a01b031683528201929092526040019020805460ff191660ff929092169190911790558062000e7e816200303f565b91505062000e14565b5062000e966004600062002c0e565b600254600b80546001600160a01b03165b60008311801562000ec057506001600160a01b03811615155b156200103d5760056000826001600160a01b0316633a5381b56040518163ffffffff1660e01b815260040160206040518083038186803b15801562000f0457600080fd5b505afa15801562000f19573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000f3f919062002d2e565b6001600160a01b0316815260208101919091526040016000205460ff166200101a576004816001600160a01b0316633a5381b56040518163ffffffff1660e01b815260040160206040518083038186803b15801562000f9d57600080fd5b505afa15801562000fb2573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000fd8919062002d2e565b81546001810183556000928352602090922090910180546001600160a01b0319166001600160a01b0390921691909117905582620010168162003005565b9350505b6001600160a01b0390811660009081526003830160205260409020541662000ea7565b50505050505050565b6000339050806001600160a01b031660076000836001600160a01b0316633a5381b56040518163ffffffff1660e01b815260040160206040518083038186803b1580156200109357600080fd5b505afa158015620010a8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620010ce919062002d2e565b6001600160a01b03908116825260208201929092526040016000205416146200113a5760405162461bcd60e51b815260206004820152601860248201527f566f746520706f6f6c206e6f7420726567697374657265640000000000000000604482015260640162000686565b33600b6200076a8183620023f8565b806001600160a01b038116620011a25760405162461bcd60e51b815260206004820152600f60248201527f496e76616c696420616464726573730000000000000000000000000000000000604482015260640162000686565b60005461010090046001600160a01b03163314620011f05760405162461bcd60e51b815260206004820152600a60248201526927b7363c9030b236b4b760b11b604482015260640162000686565b600080547fffffffffffffffffffffff0000000000000000000000000000000000000000ff166101006001600160a01b03858116820292909217808455604051919004909116917f927cc064d7b7fa546fa7706bc01845d27d06f15af3ae90a672cc44735928e96191a25050565b6060600380548060200260200160405190810160405280929190818152602001828054801562000c04576020028201919060005260206000209081546001600160a01b0316815260019091019060200180831162000be5575050505050905090565b600154600c54606091600091600b91600160a01b90910460ff16101562001304576001810154620012fc90600160a01b900460ff168362002f97565b915062001316565b60015462001313908362002f97565b91505b60008267ffffffffffffffff811115620013345762001334620030ef565b6040519080825280602002602001820160405280156200135e578160200160208202803683370190505b50600154600b80549293506000929091906001600160a01b03165b6000821180156200139257506001600160a01b03811615155b156200148057806001600160a01b0316633a5381b56040518163ffffffff1660e01b815260040160206040518083038186803b158015620013d257600080fd5b505afa158015620013e7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200140d919062002d2e565b858581518110620014225762001422620030d9565b6001600160a01b03909216602092830291909101909101528362001446816200303f565b9450508180620014569062003005565b6001600160a01b039283166000908152600386016020526040902054909350909116905062001379565b50929695505050505050565b6000339050806001600160a01b031660076000836001600160a01b0316633a5381b56040518163ffffffff1660e01b815260040160206040518083038186803b158015620014d957600080fd5b505afa158015620014ee573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062001514919062002d2e565b6001600160a01b0390811682526020820192909252604001600020541614620015805760405162461bcd60e51b815260206004820152601860248201527f566f746520706f6f6c206e6f7420726567697374657265640000000000000000604482015260640162000686565b336001816001600160a01b031663c19d93fb6040518163ffffffff1660e01b815260040160206040518083038186803b158015620015bd57600080fd5b505afa158015620015d2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620015f8919062002e55565b60038111156200160c576200160c620030c3565b146200164d5760405162461bcd60e51b815260206004820152600f60248201526e496e636f727265637420737461746560881b604482015260640162000686565b600b6200076a8183620025ff565b600681815481106200166c57600080fd5b6000918252602090912001546001600160a01b0316905081565b33600090815260096020526040902054806200169f5750565b3360008181526009602052604080822082905580517fff3d9e4f000000000000000000000000000000000000000000000000000000008152905163ff3d9e4f9285926004808201939182900301818588803b1580156200088757600080fd5b436000908152600a6020908152604080832083805290915281205460ff16156200175e5760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e481bdc195c985d195960821b604482015260640162000686565b60005460ff16620017a15760405162461bcd60e51b815260206004820152600c60248201526b139bdd081a5b9a5d081e595d60a21b604482015260640162000686565b436000908152600a602090815260408083208380529091528120805460ff19166001179055600854620017d6903490620029f6565b90506000620017f46064620017ed84600a62002a59565b90620023ad565b905060006200180b6064620017ed85602862002a59565b90506000620018226064620017ed86603262002a59565b6004549091501562001a6f576000805b60045460ff821610156200191a57620019036007600060048460ff1681548110620018615762001861620030d9565b60009182526020808320909101546001600160a01b03908116845283820194909452604092830190912054825163f1cea4c760e01b8152925193169263f1cea4c7926004808201939291829003018186803b158015620018c057600080fd5b505afa158015620018d5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620018fb919062002e92565b8390620029f6565b91508062001911816200305d565b91505062001832565b50801562001a6d5760005b60045460ff8216101562001a6b5760006007600060048460ff1681548110620019525762001952620030d9565b60009182526020808320909101546001600160a01b039081168452838201949094526040928301822054835163f1cea4c760e01b8152935194169450909262001a04928792620017ed92879263f1cea4c7926004808301939192829003018186803b158015620019c157600080fd5b505afa158015620019d6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620019fc919062002e92565b8a9062002a59565b6001600160a01b03831660009081526009602052604090205490915062001a2c9082620029f6565b6001600160a01b03831660009081526009602052604090205562001a51888262002ae0565b97505050808062001a62906200305d565b91505062001925565b505b505b6003541562001c3c576000805b60035460ff8216101562001ac25762001aab6007600060038460ff1681548110620018615762001861620030d9565b91508062001ab9816200305d565b91505062001a7c565b5060005b60035460ff8216101562001c395760006007600060038460ff168154811062001af35762001af3620030d9565b60009182526020808320909101546001600160a01b039081168452908301939093526040909101812054600354921692509062001b32908690620023ad565b9050831562001bd557600062001bc385620017ed89866001600160a01b031663f1cea4c76040518163ffffffff1660e01b815260040160206040518083038186803b15801562001b8157600080fd5b505afa15801562001b96573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062001bbc919062002e92565b9062002a59565b905062001bd18282620029f6565b9150505b6001600160a01b03821660009081526009602052604090205462001bfa9082620029f6565b6001600160a01b03831660009081526009602052604090205562001c1f888262002ae0565b97505050808062001c30906200305d565b91505062001ac6565b50505b50505060085550565b6001600160a01b038281166000908152600760205260408120549091161562001cb15760405162461bcd60e51b815260206004820152601960248201527f56616c696461746f727320616c72656164792065786973747300000000000000604482015260640162000686565b60008383600060405162001cc59062002b96565b62001cd39392919062002eac565b604051809103906000f08015801562001cf0573d6000803e3d6000fd5b5060068054600181019091557ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d3f0180546001600160a01b03199081166001600160a01b038881169182179093556000818152600760209081526040918290208054909416948616948517909355519283529293507f1ab57f2e2a6e4069160cc6501d8012d93ed435770b1ed646f82482a2f7234ff4910160405180910390a290505b92915050565b6001820154600160a01b900460ff1662001e0b5781546001600160a01b0382166001600160a01b0319918216811784556001840180549092161780825560ff600160a01b9091041690601462001dee836200305d565b91906101000a81548160ff021916908360ff160217905550505050565b81546001600160a01b038281169116141562001e25575050565b6001600160a01b038082166000908152600284016020526040902054168062001ff957600183018054600160a01b900460ff1690601462001e66836200305d565b91906101000a81548160ff021916908360ff160217905550508260010160009054906101000a90046001600160a01b03166001600160a01b031663f1cea4c76040518163ffffffff1660e01b815260040160206040518083038186803b15801562001ed057600080fd5b505afa15801562001ee5573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062001f0b919062002e92565b826001600160a01b031663f1cea4c76040518163ffffffff1660e01b815260040160206040518083038186803b15801562001f4557600080fd5b505afa15801562001f5a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062001f80919062002e92565b1162001fe457506001820180546001600160a01b039283166000818152600286016020908152604080832080549588166001600160a01b03199687161790558554909616825260039096019095529290932080548416831790558054909216179055565b5060018201546001600160a01b0316620021a1565b806001600160a01b031663f1cea4c76040518163ffffffff1660e01b815260040160206040518083038186803b1580156200203357600080fd5b505afa15801562002048573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200206e919062002e92565b826001600160a01b031663f1cea4c76040518163ffffffff1660e01b815260040160206040518083038186803b158015620020a857600080fd5b505afa158015620020bd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620020e3919062002e92565b11620020ee57505050565b6001600160a01b038083166000818152600386016020526040808220548585168352912080546001600160a01b0319169184169190911790556001850154909116141562002159576001830180546001600160a01b0319166001600160a01b038316179055620021a1565b6001600160a01b03808316600090815260028501602081815260408084205460038901835281852054861685529290915290912080546001600160a01b031916919092161790555b6001600160a01b03811615801590620022a15750806001600160a01b031663f1cea4c76040518163ffffffff1660e01b815260040160206040518083038186803b158015620021ef57600080fd5b505afa15801562002204573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200222a919062002e92565b826001600160a01b031663f1cea4c76040518163ffffffff1660e01b815260040160206040518083038186803b1580156200226457600080fd5b505afa15801562002279573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200229f919062002e92565b115b15620022ca576001600160a01b03908116600090815260028401602052604090205416620021a1565b6001600160a01b0381166200233b575081546001600160a01b039182166000818152600385016020908152604080832080549587166001600160a01b031996871617905586549095168252600286019052838120805484168317905581815292909220805482169055825416179055565b6001600160a01b0390811660008181526003850160209081526040808320805496861680855282852080549888166001600160a01b0319998a16179055815490961684526002909701909152808220805486168517905585548516841790955591825292902080549091169091179055565b6000620023f183836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f00000000000081525062002b24565b9392505050565b81546001600160a01b038281169116148015906200243057506001600160a01b03818116600090815260028401602052604090205416155b156200243a575050565b60018201546001600160a01b038281169116141562002487576001600160a01b0380821660009081526002840160205260409020546001840180546001600160a01b031916919092161790555b81546001600160a01b0382811691161415620024cb576001600160a01b03808216600090815260038401602052604090205483546001600160a01b03191691161782555b6001600160a01b03808216600090815260038401602052604090205416801562002527576001600160a01b038083166000908152600285016020526040808220548484168352912080546001600160a01b031916919092161790555b6001600160a01b03808316600090815260028501602052604090205416801562002583576001600160a01b038084166000908152600386016020526040808220548484168352912080546001600160a01b031916919092161790555b6001600160a01b0383166000908152600285016020908152604080832080546001600160a01b03199081169091556003880190925290912080549091169055600184018054600160a01b900460ff16906014620025e0836200301f565b91906101000a81548160ff021916908360ff1602179055505050505050565b6001600160a01b0380821660008181526003850160205260409020546001850154908316921614806200263957506001600160a01b038116155b806200272d5750816001600160a01b031663f1cea4c76040518163ffffffff1660e01b815260040160206040518083038186803b1580156200267a57600080fd5b505afa1580156200268f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620026b5919062002e92565b816001600160a01b031663f1cea4c76040518163ffffffff1660e01b815260040160206040518083038186803b158015620026ef57600080fd5b505afa15801562002704573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200272a919062002e92565b11155b156200273857505050565b6001600160a01b038083166000818152600286016020526040808220548585168352912080546001600160a01b031916918416919091179055845490911614156200279c5782546001600160a01b0319166001600160a01b038216178355620027de565b6001600160a01b0382811660009081526002850160209081526040808320548416835260038701909152902080546001600160a01b0319169183169190911790555b6001600160a01b03811615801590620028de5750816001600160a01b031663f1cea4c76040518163ffffffff1660e01b815260040160206040518083038186803b1580156200282c57600080fd5b505afa15801562002841573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062002867919062002e92565b816001600160a01b031663f1cea4c76040518163ffffffff1660e01b815260040160206040518083038186803b158015620028a157600080fd5b505afa158015620028b6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620028dc919062002e92565b115b1562002907576001600160a01b03908116600090815260038401602052604090205416620027de565b6001600160a01b0381166200297e57506001820180546001600160a01b039283166000818152600286016020908152604080832080549588166001600160a01b0319968716179055600390970190528581208054841690558354909416845293909220805483168417905580549091169091179055565b6001600160a01b0390811660008181526002850160208181526040808420805487168552600390980180835281852080546001600160a01b0319908116998916998a17909155848452895489875283872080549190991690821617909755825283208054861685179055929091529052825416179055565b60008062002a05838562002f97565b905083811015620023f15760405162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015260640162000686565b60008262002a6a5750600062001d92565b600062002a78838562002fc9565b90508262002a87858362002fb2565b14620023f15760405162461bcd60e51b815260206004820152602160248201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6044820152607760f81b606482015260840162000686565b6000620023f183836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f77000081525062002b60565b6000818362002b485760405162461bcd60e51b815260040162000686919062002f3f565b50600062002b57848662002fb2565b95945050505050565b6000818484111562002b875760405162461bcd60e51b815260040162000686919062002f3f565b50600062002b57848662002feb565b612849806200311c83390190565b82805482825590600052602060002090810192821562002bfc579160200282015b8281111562002bfc57825182546001600160a01b0319166001600160a01b0390911617825560209092019160019091019062002bc5565b5062002c0a92915062002c31565b5090565b508054600082559060005260206000209081019062002c2e919062002c31565b50565b5b8082111562002c0a576000815560010162002c32565b803562002c558162003105565b919050565b600082601f83011262002c6c57600080fd5b8135602067ffffffffffffffff8083111562002c8c5762002c8c620030ef565b8260051b604051601f19603f8301168101818110848211171562002cb45762002cb4620030ef565b6040528481528381019250868401828801850189101562002cd457600080fd5b600092505b8583101562002d025762002ced8162002c48565b84529284019260019290920191840162002cd9565b50979650505050505050565b60006020828403121562002d2157600080fd5b8135620023f18162003105565b60006020828403121562002d4157600080fd5b8151620023f18162003105565b6000806040838503121562002d6257600080fd5b823562002d6f8162003105565b91506020830135801515811462002d8557600080fd5b809150509250929050565b6000806040838503121562002da457600080fd5b823562002db18162003105565b946020939093013593505050565b6000806040838503121562002dd357600080fd5b823567ffffffffffffffff81111562002deb57600080fd5b62002df98582860162002c5a565b925050602083013562002d858162003105565b6000806040838503121562002e2057600080fd5b823567ffffffffffffffff81111562002e3857600080fd5b62002e468582860162002c5a565b95602094909401359450505050565b60006020828403121562002e6857600080fd5b815160048110620023f157600080fd5b60006020828403121562002e8b57600080fd5b5035919050565b60006020828403121562002ea557600080fd5b5051919050565b6001600160a01b038416815260208101839052606081016004831062002ee257634e487b7160e01b600052602160045260246000fd5b826040830152949350505050565b6020808252825182820181905260009190848201906040850190845b8181101562002f335783516001600160a01b03168352928401929184019160010162002f0c565b50909695505050505050565b600060208083528351808285015260005b8181101562002f6e5785810183015185820160400152820162002f50565b8181111562002f81576000604083870101525b50601f01601f1916929092016040019392505050565b6000821982111562002fad5762002fad62003097565b500190565b60008262002fc45762002fc4620030ad565b500490565b600081600019048311821515161562002fe65762002fe662003097565b500290565b60008282101562003000576200300062003097565b500390565b60008162003017576200301762003097565b506000190190565b600060ff82168062003035576200303562003097565b6000190192915050565b600060001982141562003056576200305662003097565b5060010190565b600060ff821660ff81141562003077576200307762003097565b60010192915050565b600082620030925762003092620030ad565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b634e487b7160e01b600052602160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b038116811462002c2e57600080fdfe60806040523480156200001157600080fd5b50604051620028493803806200284983398101604081905262000034916200027b565b60018055826001600160a01b038116620000875760405162461bcd60e51b815260206004820152600f60248201526e496e76616c6964206164647265737360881b60448201526064015b60405180910390fd5b82620000bf600a620000ab60036127106200016560201b62001fbc1790919060201c565b620001f560201b620020441790919060201c565b811115620001025760405162461bcd60e51b815260206004820152600f60248201526e125b9d985b1a59081c195c98d95b9d608a1b60448201526064016200007e565b60028054610100600160a81b031981166101006001600160a01b03891602908117835560048790558592916001600160a81b03191660ff199091161760018360038111156200015557620001556200037a565b0217905550505050505062000390565b6000826200017657506000620001ef565b60006200018483856200034c565b90508262000193858362000329565b14620001ec5760405162461bcd60e51b815260206004820152602160248201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6044820152607760f81b60648201526084016200007e565b90505b92915050565b6000620001ec83836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f0000000000008152506200023f60201b60201c565b60008183620002635760405162461bcd60e51b81526004016200007e9190620002d1565b50600062000272848662000329565b95945050505050565b6000806000606084860312156200029157600080fd5b83516001600160a01b0381168114620002a957600080fd5b60208501516040860151919450925060048110620002c657600080fd5b809150509250925092565b600060208083528351808285015260005b818110156200030057858101830151858201604001528201620002e2565b8181111562000313576000604083870101525b50601f01601f1916929092016040019392505050565b6000826200034757634e487b7160e01b600052601260045260246000fd5b500490565b60008160001904831182151516156200037557634e487b7160e01b600052601160045260246000fd5b500290565b634e487b7160e01b600052602160045260246000fd5b6124a980620003a06000396000f3fe6080604052600436106102345760003560e01c8063826d3dec11610138578063c19d93fb116100b0578063ec0cb3361161007f578063f1cea4c711610064578063f1cea4c7146105ac578063f3b1cc67146105c2578063ff3d9e4f146105d957600080fd5b8063ec0cb33614610293578063f06d5e771461058c57600080fd5b8063c19d93fb14610520578063c967f90f14610547578063d0e30db01461056f578063e9fad8ee1461057757600080fd5b806397a8ccd511610107578063a3ec138d116100ec578063a3ec138d14610494578063a6606679146104f6578063ba26d9ff1461050b57600080fd5b806397a8ccd5146104775780639e83d5b11461047f57600080fd5b8063826d3dec1461040e5780638ec7a23d146104235780638f76691a146104435780639001eed81461045957600080fd5b806341f4ca62116101cb57806358fd41ea1161019a57806371a1bb751161017f57806371a1bb75146103c357806372a11da4146103d95780638129fc1c146103f957600080fd5b806358fd41ea1461039857806370ba1113146103ad57600080fd5b806341f4ca621461032a57806344f999001461035a578063483a00e8146103705780634df9d6ba1461037857600080fd5b80632b8aba7a116102075780632b8aba7a146102c05780632e4f67e4146102935780633a5381b5146102d65780633ccfd60b1461031357600080fd5b806303fab4f614610239578063158ef93e1461026957806315de360e1461029357806324c5b1ca146102aa575b600080fd5b34801561024557600080fd5b5061025668056bc75e2d6310000081565b6040519081526020015b60405180910390f35b34801561027557600080fd5b506000546102839060ff1681565b6040519015158152602001610260565b34801561029f57600080fd5b506102566201518081565b3480156102b657600080fd5b50610256600c5481565b3480156102cc57600080fd5b50610256600b5481565b3480156102e257600080fd5b506002546102fb9061010090046001600160a01b031681565b6040516001600160a01b039091168152602001610260565b34801561031f57600080fd5b506103286105e1565b005b34801561033657600080fd5b50600554600654610345919082565b60408051928352602083019190915201610260565b34801561036657600080fd5b506102fb61c00381565b610328610777565b34801561038457600080fd5b50610256610393366004612306565b610a3b565b3480156103a457600080fd5b50610256610b68565b3480156103b957600080fd5b5061025660045481565b3480156103cf57600080fd5b506102fb61c00281565b3480156103e557600080fd5b506103286103f4366004612351565b610c13565b34801561040557600080fd5b50610328610f43565b34801561041a57600080fd5b50610328611044565b34801561042f57600080fd5b5061032861043e36600461232f565b6111db565b34801561044f57600080fd5b5061025660035481565b34801561046557600080fd5b5061025669010f0cf064dd5920000081565b6103286113b5565b34801561048b57600080fd5b50610328611551565b3480156104a057600080fd5b506104d66104af366004612306565b60086020526000908152604090208054600182015460028301546003909301549192909184565b604080519485526020850193909352918301526060820152608001610260565b34801561050257600080fd5b50610328611757565b34801561051757600080fd5b506103286118b1565b34801561052c57600080fd5b5060025461053a9060ff1681565b6040516102609190612383565b34801561055357600080fd5b5061055c600f81565b60405161ffff9091168152602001610260565b6103286119e5565b34801561058357600080fd5b50610328611c75565b34801561059857600080fd5b506103286105a7366004612351565b611e1e565b3480156105b857600080fd5b50610256600a5481565b3480156105ce57600080fd5b506102566206270081565b610328611f02565b600260015414156106395760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064015b60405180910390fd5b6002600155336000908152600860205260409020600301546201518090610661904390612086565b116106ae5760405162461bcd60e51b815260206004820152601260248201527f496e74657276616c20746f6f20736d616c6c00000000000000000000000000006044820152606401610630565b3360009081526008602052604090206002015461070d5760405162461bcd60e51b815260206004820152601860248201527f56616c75652073686f756c64206e6f74206265207a65726f00000000000000006044820152606401610630565b336000818152600860205260408120600281018054908390556003909101919091559061073a90826120c8565b60405181815233907f884edad9ce6fa2440d8a54cc123490eb96d2768479d49ff9c7366125a9424364906020015b60405180910390a25060018055565b60025461010090046001600160a01b031633146107cf5760405162461bcd60e51b815260206004820152601660248201527513db9b1e481d985b1a59185d1bdc88185b1b1bddd95960521b6044820152606401610630565b6107d76121e6565b6108155760405162461bcd60e51b815260206004820152600f60248201526e496e636f727265637420737461746560881b6044820152606401610630565b600c54158061083a575062062700610838600c544361208690919063ffffffff16565b115b6108865760405162461bcd60e51b815260206004820152601860248201527f496e74657276616c206e6f74206c6f6e6720656e6f75676800000000000000006044820152606401610630565b600034116108d65760405162461bcd60e51b815260206004820152601860248201527f56616c75652073686f756c64206e6f74206265207a65726f00000000000000006044820152606401610630565b6000600c556003546108e89034612248565b60035560405134815233907f278e696bd0cd4a7d1260ced26c40cd01c2b088f441889e4148240ac81069b3489060200160405180910390a269010f0cf064dd5920000060035410610a39576002805460ff1916600117908190556040516363e1d45160e01b81526101009091046001600160a01b0316600482015261c003906363e1d45190602401600060405180830381600087803b15801561098a57600080fd5b505af115801561099e573d6000803e3d6000fd5b5050505061c0026001600160a01b031663136ec0b36040518163ffffffff1660e01b8152600401600060405180830381600087803b1580156109df57600080fd5b505af11580156109f3573d6000803e3d6000fd5b505060025460ff169150506003811115610a0f57610a0f612486565b6040517f402ee26d4c255fcb07b0b7b5b93b77377832260977c25be44f3c8feffd2df70e90600090a25b565b604051637a0787a960e11b8152306004820152600090819061c0029063f40f0f529060240160206040518083038186803b158015610a7857600080fd5b505afa158015610a8c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ab0919061236a565b90506000610ad5612710610acf60045485611fbc90919063ffffffff16565b90612044565b600954600a549192509015610b1c57610b1981610b13600a54610acf670de0b6b3a7640000610b0d888a61208690919063ffffffff16565b90611fbc565b90612248565b90505b6001600160a01b038516600090815260086020526040902060018101549054610b5f9190610b5990670de0b6b3a764000090610acf908690611fbc565b90612086565b95945050505050565b604051637a0787a960e11b8152306004820152600090819061c0029063f40f0f529060240160206040518083038186803b158015610ba557600080fd5b505afa158015610bb9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bdd919061236a565b90506000610bfc612710610acf60045485611fbc90919063ffffffff16565b600754909150610c0c9082612248565b9250505090565b60026001541415610c665760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610630565b600260015580610cb85760405162461bcd60e51b815260206004820152601860248201527f56616c75652073686f756c64206e6f74206265207a65726f00000000000000006044820152606401610630565b33600090815260086020526040902054811115610d175760405162461bcd60e51b815260206004820152601360248201527f496e73756666696369656e7420616d6f756e74000000000000000000000000006044820152606401610630565b61c0026001600160a01b031663c885bc586040518163ffffffff1660e01b8152600401600060405180830381600087803b158015610d5457600080fd5b505af1158015610d68573d6000803e3d6000fd5b505033600090815260086020526040812060018101549054600954929450610da493509091610b5991670de0b6b3a764000091610acf91611fbc565b600a54909150610db49083612086565b600a5533600090815260086020526040902054610dd19083612086565b336000908152600860205260409020819055600954610dfe91670de0b6b3a764000091610acf9190611fbc565b33600090815260086020526040902060019081019190915560025460ff166003811115610e2d57610e2d612486565b1415610e895761c0026001600160a01b031663bb8b65af6040518163ffffffff1660e01b8152600401600060405180830381600087803b158015610e7057600080fd5b505af1158015610e84573d6000803e3d6000fd5b505050505b33600090815260086020526040902060020154610ea69083612248565b336000818152600860205260409020600281019290925543600390920191909155610ed190826120c8565b60405182815233907f41b45db803eded5e27cdf3cbba5707b3575e9b6959de41c3f7b83b51ce6005029060200160405180910390a260405181815233907f7cddc560d4de1ea9d83e4123f01e6072afc503bb47bcc765f0396ba3861a04549060200160405180910390a2505060018055565b3361c00214610f945760405162461bcd60e51b815260206004820152601860248201527f56616c696461746f727320636f6e7472616374206f6e6c7900000000000000006044820152606401610630565b60005460ff1615610fe75760405162461bcd60e51b815260206004820152601360248201527f416c726561647920696e697469616c697a6564000000000000000000000000006044820152606401610630565b6000805460ff191660011781556040805163136ec0b360e01b8152905161c0029263136ec0b3926004808201939182900301818387803b15801561102a57600080fd5b505af115801561103e573d6000803e3d6000fd5b50505050565b3361c003146110955760405162461bcd60e51b815260206004820152601460248201527f50756e69736820636f6e7472616374206f6e6c790000000000000000000000006044820152606401610630565b43600b556002805460ff1660038111156110b1576110b1612486565b146110f0576002805460ff191660039081179091556040517f402ee26d4c255fcb07b0b7b5b93b77377832260977c25be44f3c8feffd2df70e90600090a25b61c0026001600160a01b03166371df76786040518163ffffffff1660e01b8152600401600060405180830381600087803b15801561112d57600080fd5b505af1158015611141573d6000803e3d6000fd5b50505050600068056bc75e2d6310000060035410156111625760035461116d565b68056bc75e2d631000005b905080156111d8576003546111829082612086565b6003556111906000826120c8565b6002546040518281526101009091046001600160a01b0316907febbcaaf6b9aa8b4083ae4b2f842c8de6f75319018e7b5e141a1e87aebadde6c3906020015b60405180910390a25b50565b3361c0021461122c5760405162461bcd60e51b815260206004820152601860248201527f56616c696461746f727320636f6e7472616374206f6e6c7900000000000000006044820152606401610630565b80156113265761123a6121e6565b8061125b5750600160025460ff16600381111561125957611259612486565b145b6112995760405162461bcd60e51b815260206004820152600f60248201526e496e636f727265637420737461746560881b6044820152606401610630565b6002805460ff1916811781556040517f402ee26d4c255fcb07b0b7b5b93b77377832260977c25be44f3c8feffd2df70e90600090a261c0026001600160a01b03166371df76786040518163ffffffff1660e01b8152600401600060405180830381600087803b15801561130b57600080fd5b505af115801561131f573d6000803e3d6000fd5b5050505050565b6002805460ff16600381111561133e5761133e612486565b1461137d5760405162461bcd60e51b815260206004820152600f60248201526e496e636f727265637420737461746560881b6044820152606401610630565b6002805460ff1916905560006040517f402ee26d4c255fcb07b0b7b5b93b77377832260977c25be44f3c8feffd2df70e90600090a250565b600260015414156114085760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610630565b600260018190555461010090046001600160a01b031633146114655760405162461bcd60e51b815260206004820152601660248201527513db9b1e481d985b1a59185d1bdc88185b1b1bddd95960521b6044820152606401610630565b61c0026001600160a01b031663c885bc586040518163ffffffff1660e01b8152600401600060405180830381600087803b1580156114a257600080fd5b505af11580156114b6573d6000803e3d6000fd5b5050505060006007541161150c5760405162461bcd60e51b815260206004820152600e60248201527f4e6f206d6f7265207265776172640000000000000000000000000000000000006044820152606401610630565b60078054600090915561151f33826120c8565b60405181815233907fe4fc75e2b70d2f179fc77c722f2334ba1507c59932576ec9620b15dfb06d91e290602001610768565b600260015414156115a45760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610630565b600260018190555461010090046001600160a01b031633146116015760405162461bcd60e51b815260206004820152601660248201527513db9b1e481d985b1a59185d1bdc88185b1b1bddd95960521b6044820152606401610630565b6116096121e6565b6116475760405162461bcd60e51b815260206004820152600f60248201526e496e636f727265637420737461746560881b6044820152606401610630565b6000600c5411801561166f57506206270061166d600c544361208690919063ffffffff16565b115b6116bb5760405162461bcd60e51b815260206004820152601860248201527f496e74657276616c206e6f74206c6f6e6720656e6f75676800000000000000006044820152606401610630565b60006003541161170d5760405162461bcd60e51b815260206004820152600e60248201527f4e6f206d6f7265206d617267696e0000000000000000000000000000000000006044820152606401610630565b6000600c8190556003805491905561172533826120c8565b60405181815233907f5d3b8fa9823b18b176cfe79e002a5b931b8569313802f700eb8550bc6a35324690602001610768565b60025461010090046001600160a01b031633146117af5760405162461bcd60e51b815260206004820152601660248201527513db9b1e481d985b1a59185d1bdc88185b1b1bddd95960521b6044820152606401610630565b6005546117c4600a610acf6127106003611fbc565b8111156118055760405162461bcd60e51b815260206004820152600f60248201526e125b9d985b1a59081c195c98d95b9d608a1b6044820152606401610630565b6006541580159061182657506006546201518090611824904390612086565b115b6118725760405162461bcd60e51b815260206004820152601860248201527f496e74657276616c206e6f74206c6f6e6720656e6f75676800000000000000006044820152606401610630565b600580546004819055600091829055600682905560405190917f450a792501c47863e89114cbdd0497acb22d4abfc51dc315afc323c5ba92d4a991a250565b3361c003146119025760405162461bcd60e51b815260206004820152601460248201527f50756e69736820636f6e7472616374206f6e6c790000000000000000000000006044820152606401610630565b61c0026001600160a01b031663c885bc586040518163ffffffff1660e01b8152600401600060405180830381600087803b15801561193f57600080fd5b505af1158015611953573d6000803e3d6000fd5b50505050600068056bc75e2d631000006007541061197a5768056bc75e2d6310000061197e565b6007545b60075490915061198e9082612086565b60075580156111d8576119a26000826120c8565b6002546040518281526101009091046001600160a01b0316907f0a3c8b346f3f7fe5668c9f575473491c4274339e10c9548d7995f22211f988f0906020016111cf565b60026001541415611a385760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610630565b600260018190555061c0026001600160a01b031663c885bc586040518163ffffffff1660e01b8152600401600060405180830381600087803b158015611a7d57600080fd5b505af1158015611a91573d6000803e3d6000fd5b505033600090815260086020526040812060018101549054600954929450611acd93509091610b5991670de0b6b3a764000091610acf91611fbc565b90503415611bee5733600090815260086020526040902054611aef9034612248565b336000908152600860205260409020819055600954611b1c91670de0b6b3a764000091610acf9190611fbc565b33600090815260086020526040902060010155600a54611b3c9034612248565b600a5560405134815233907fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c9060200160405180910390a2600160025460ff166003811115611b8d57611b8d612486565b1415611be95761c0026001600160a01b031663136ec0b36040518163ffffffff1660e01b8152600401600060405180830381600087803b158015611bd057600080fd5b505af1158015611be4573d6000803e3d6000fd5b505050505b611c2c565b60095433600090815260086020526040902054611c1891670de0b6b3a764000091610acf91611fbc565b336000908152600860205260409020600101555b8015611c6e57611c3c33826120c8565b60405181815233907f7cddc560d4de1ea9d83e4123f01e6072afc503bb47bcc765f0396ba3861a045490602001610768565b5060018055565b60025461010090046001600160a01b03163314611ccd5760405162461bcd60e51b815260206004820152601660248201527513db9b1e481d985b1a59185d1bdc88185b1b1bddd95960521b6044820152606401610630565b600160025460ff166003811115611ce657611ce6612486565b1480611cf55750611cf56121e6565b611d335760405162461bcd60e51b815260206004820152600f60248201526e496e636f727265637420737461746560881b6044820152606401610630565b43600c55600060025460ff166003811115611d5057611d50612486565b14611de0576002805460ff1916905560006040517f402ee26d4c255fcb07b0b7b5b93b77377832260977c25be44f3c8feffd2df70e90600090a261c0026001600160a01b03166371df76786040518163ffffffff1660e01b8152600401600060405180830381600087803b158015611dc757600080fd5b505af1158015611ddb573d6000803e3d6000fd5b505050505b6002546040516101009091046001600160a01b0316907f7c79e6e24ed041d1072d54523b53956f01b91b835f0490856370594d9d14470e90600090a2565b60025461010090046001600160a01b03163314611e765760405162461bcd60e51b815260206004820152601660248201527513db9b1e481d985b1a59185d1bdc88185b1b1bddd95960521b6044820152606401610630565b80611e89600a610acf6127106003611fbc565b811115611eca5760405162461bcd60e51b815260206004820152600f60248201526e125b9d985b1a59081c195c98d95b9d608a1b6044820152606401610630565b60058290554360065560405182907f2dcbffddb492dea86de0b18dac6d71f51a7b7a5ec946512e0c993a050f3b48ea90600090a25050565b3361c00214611f535760405162461bcd60e51b815260206004820152601860248201527f56616c696461746f727320636f6e7472616374206f6e6c7900000000000000006044820152606401610630565b6000611f70612710610acf60045434611fbc90919063ffffffff16565b600754909150611f809082612248565b600755600a54156111d857611fb6600954610b13600a54610acf670de0b6b3a7640000610b0d873461208690919063ffffffff16565b60095550565b600082611fcb5750600061203e565b6000611fd7838561243a565b905082611fe48583612418565b1461203b5760405162461bcd60e51b815260206004820152602160248201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6044820152607760f81b6064820152608401610630565b90505b92915050565b600061203b83836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f0000000000008152506122a7565b600061203b83836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f7700008152506122d5565b804710156121185760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a20696e73756666696369656e742062616c616e63650000006044820152606401610630565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114612165576040519150601f19603f3d011682016040523d82523d6000602084013e61216a565b606091505b50509050806121e15760405162461bcd60e51b815260206004820152603a60248201527f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260448201527f6563697069656e74206d617920686176652072657665727465640000000000006064820152608401610630565b505050565b60008060025460ff16600381111561220057612200612486565b14806122435750600360025460ff16600381111561222057612220612486565b148015612243575062015180612241600b544361208690919063ffffffff16565b115b905090565b6000806122558385612400565b90508381101561203b5760405162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f7700000000006044820152606401610630565b600081836122c85760405162461bcd60e51b815260040161063091906123ab565b506000610b5f8486612418565b600081848411156122f95760405162461bcd60e51b815260040161063091906123ab565b506000610b5f8486612459565b60006020828403121561231857600080fd5b81356001600160a01b038116811461203b57600080fd5b60006020828403121561234157600080fd5b8135801515811461203b57600080fd5b60006020828403121561236357600080fd5b5035919050565b60006020828403121561237c57600080fd5b5051919050565b60208101600483106123a557634e487b7160e01b600052602160045260246000fd5b91905290565b600060208083528351808285015260005b818110156123d8578581018301518582016040015282016123bc565b818111156123ea576000604083870101525b50601f01601f1916929092016040019392505050565b6000821982111561241357612413612470565b500190565b60008261243557634e487b7160e01b600052601260045260246000fd5b500490565b600081600019048311821515161561245457612454612470565b500290565b60008282101561246b5761246b612470565b500390565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052602160045260246000fdfea164736f6c6343000807000aa164736f6c6343000807000a"
)

type hardForkValidatorsV1 struct {
}

func (s *hardForkValidatorsV1) GetName() string {
	return DposFactoryContractName
}

func (s *hardForkValidatorsV1) Update(config *params.ChainConfig, height *big.Int, state *state.StateDB) (err error) {
	contractCode := common.FromHex(validatorV1Code)

	//write code to sys contract
	state.SetCode(DposFactoryContractAddr, contractCode)
	log.Debug("Write code to system contract account", "addr", DposFactoryContractAddr.String(), "code", validatorV1Code)

	return
}

func (s *hardForkValidatorsV1) getAdminByChainId(chainId *big.Int) common.Address {
	if chainId.Cmp(params.MainnetChainConfig.ChainID) == 0 {
		return validatorV1Admin
	}

	return validatorV1AdminTestnet
}

func (s *hardForkValidatorsV1) Execute(state *state.StateDB, header *types.Header, chainContext core.ChainContext, config *params.ChainConfig) (err error) {
	return nil
	/*
		//First, get top validators from the old contract
		v0 := NewValidatorV0()
		topVals, err := v0.GetTopValidators(state, header, chainContext, config)
		if err != nil {
			log.Error("getTopValidators from V0 failed", "err", err)
			return err
		}
		managers := make([]common.Address, 0, len(topVals))
		for _, val := range topVals {
			feeAddr, err := v0.GetValidatorFeeAddr(val, state, header, chainContext, config)
			if err != nil {
				return err
			}
			managers = append(managers, feeAddr)
		}

		// initialize v1 contract
		method := "initialize"
		//fmt.Println(topVals,managers)

		data, err := GetInteractiveABI()[DposFactoryContractName].Pack(method, topVals, managers, s.getAdminByChainId(config.ChainID))
		//fmt.Println(data)
		if err != nil {
			log.Error("Can't pack data for initialize", "error", err)
			return err
		}

		msg := types.NewMessage(header.Coinbase, &DposFactoryContractAddr, 0, new(big.Int), math.MaxUint64, new(big.Int), data, nil, false)
		_, err = vmcaller.ExecuteMsg(msg, state, header, chainContext, config)

		return*/

}
